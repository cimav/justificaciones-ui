
<h1 mat-dialog-title>Proveedor</h1>

<div mat-dialog-content>
<form  #proveedorForm="ngForm" >

  <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="25px" > <!-- [class.notificando]="!canEditar()" -->
    <mat-form-field>
      <input matInput placeholder="Razón social" name="razon_social" [(ngModel)]="data.proveedor.razon_social" required>
      <button mat-icon-button matSuffix (click)="openSearchDialog()"  matTooltip="Buscar proveedor en NetMultix" matTooltipPosition="before">
        <mat-icon>search</mat-icon>
      </button>
      <mat-hint align="end" >Use la lupa para buscar proveedores en NetMultix</mat-hint>
    </mat-form-field>
  </div>

  <div fxLayout="row" fxLayoutAlign="space-between start" fxLayoutGap="5px">
    <div fxFlex="60" style="padding: 15px;"  > <!--[class.notificando]="!canEditar()" -->
      <label>Fuente de consulta</label>
      <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="25px">
        <mat-radio-group name="fuente" [(ngModel)]="data.proveedor.fuente" >
          <mat-radio-button color="primary"  name="fuente0" [value]="0">Internet</mat-radio-button>
          <mat-radio-button color="primary"  name="fuente2" [value]="2">Presencial</mat-radio-button>
          <mat-radio-button color="primary" name="fuente1" [value]="1" >Compranet</mat-radio-button>
        </mat-radio-group>
        <mat-checkbox class="flex-none" name="nacional" [(ngModel)]="data.proveedor.es_nacional" color="primary" >Nacional</mat-checkbox>
      </div>
      <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="25px">
        <mat-form-field class="flex-none">
          <input matInput placeholder="RFC" name="rfc" [(ngModel)]="data.proveedor.rfc" required>
        </mat-form-field >
      </div>
      <mat-form-field style="width: 250px;">
        <mat-select placeholder="Moneda" [(ngModel)]="data.proveedor.moneda_id" name="moneda" required >
          <mat-option *ngFor="let moneda of monedas" [value]="moneda.id">
            {{moneda.code}} {{moneda.nombre}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="25px">
        <mat-form-field>
          <input matInput placeholder="Domicilio" name="domicilio" [(ngModel)]="data.proveedor.domicilio" required>
        </mat-form-field >
      </div>
      <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="25px">
        <mat-form-field>
          <input matInput placeholder="Contacto" name="contacto" [(ngModel)]="data.proveedor.contacto" required>
        </mat-form-field >
      </div>
      <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="25px">
        <mat-form-field>
          <input matInput placeholder="Teléfono" name="telefono" [(ngModel)]="data.proveedor.telefono" required>
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Email" name="email" [(ngModel)]="data.proveedor.email" required>
        </mat-form-field>
      </div>
      <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="25px">
        <mat-form-field>
          <input matInput placeholder="Datos bancarios" name="banco" [(ngModel)]="data.proveedor.banco" required>
        </mat-form-field >
      </div>

      <!-- [disabled]="(!justificacionForm.form.valid || justificacionForm.form.dirty)" -->
      <!--
      <button class="btn-cotizar" mat-stroked-button (click)="cotizar()" matTooltip="Generar cotización Proveedor 2" matTooltipPosition="after">
        <mat-icon>assessment</mat-icon>
        Cotizar
      </button>
      -->

    </div>
    <div fxFlex="40" class="prov-cotizado mat-elevation-z8" >
      <div fxLayout="row" fxLayoutAlign="space-between top" fxLayoutGap="25px">
        <label class="label-cotiza-answer"><strong>Resultado de la cotización</strong><br>A llenar cuando se reciba la cotización</label>
      </div>
      <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="25px">
        <mat-form-field >
                    <textarea mat-autosize name="tecnicas" maxlength="400" matInput placeholder="Cumple condiciones técnicas"
                              [(ngModel)]="data.proveedor.cumple_tecnicas" required></textarea>
        </mat-form-field>
      </div>
      <div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="25px">
        <mat-form-field >
                    <textarea mat-autosize name="cantidad" maxlength="400" matInput placeholder="Cantidad que puede surtir"
                              [(ngModel)]="data.proveedor.cantidad_surtir" required></textarea>
        </mat-form-field>
      </div>
      <mat-form-field class="flex-none"  style="width: 200px; float: right;" > <!-- [class.notificando]="!canEditar()" -->
        <input currencyMask="" matInput class="right" placeholder="Monto" name="monto" [(ngModel)]="data.proveedor.monto" required
               [options]="{ prefix: '', thousands: ',', decimal: '.' }">
      </mat-form-field >
    </div>

  </div>

</form>
</div>

<div mat-dialog-actions style="    display: initial;">
  <ng-container>
    <span class="buttons-layout-left-top">
      <button mat-mini-fab color="accent" id="btn-back" (click)="onNoClick()" matTooltip="Cancelar cambios" matTooltipPosition="after">
        <mat-icon>close</mat-icon>
      </button>
    </span>
  </ng-container>

  <button  class="btn-guardar-provee" [disabled]=proveedorForm.form.pristine mat-mini-fab  (click)="onClick()"
           matTooltip="Guardar cambios" matTooltipPosition="above">
    <mat-icon>check</mat-icon>
  </button>
</div>